// Generated by CoffeeScript 1.6.2
(function() {
  var PAGES, PJAX, REPEAT, initCSS, lastPage, showNextPage, showPage, showPreviousPage, zoomIn, zoomOut;

  PAGES = 'section';

  PJAX = false;

  REPEAT = true;

  $(function() {
    var currentPage, level;

    currentPage = 0;
    level = 1;
    initCSS();
    showPage(currentPage);
    return $('html').keydown(function(e) {
      switch (e.which) {
        case 38:
          e.preventDefault();
          if (level > 0) {
            level--;
          }
          zoomOut();
          return $(PAGES).show();
        case 40:
          e.preventDefault();
          level++;
          $("" + PAGES + ":eq(" + currentPage + ")").scrollTop();
          zoomIn();
          return showPage(currentPage);
        case 37:
          e.preventDefault();
          $('h1').removeClass('zoomin').removeClass('zoomout');
          return currentPage = showPreviousPage(currentPage);
        case 39:
          e.preventDefault();
          $('h1').removeClass('zoomin').removeClass('zoomout');
          return currentPage = showNextPage(currentPage);
      }
    });
  });

  initCSS = function() {
    $('html').css('overflow', 'hidden');
    $(PAGES).parent().css({
      'display': '-webkit-flex',
      'flex-wrap': 'nowrap',
      'min-width': "" + ($(PAGES).size() * 100) + "%"
    });
    return $(PAGES).css({
      'width': '100%',
      'height': '100%',
      'transition': function(index, value) {
        return 'all 1s ease';
      }
    });
  };

  zoomIn = function() {
    $('h1').removeClass('zoomout');
    return $('h1').addClass('zoomin');
  };

  zoomOut = function() {
    $('h1').removeClass('zoomin');
    return $('h1').addClass('zoomout');
  };

  showPreviousPage = function(page) {
    if (page > 0) {
      page--;
    } else {
      if (REPEAT) {
        page = lastPage();
      }
    }
    showPage(page);
    return page;
  };

  showNextPage = function(page) {
    if (page < lastPage()) {
      page++;
    } else {
      if (REPEAT) {
        page = 0;
      }
    }
    showPage(page);
    return page;
  };

  showPage = function(index) {
    return $(PAGES).css('transform', "translateX(-" + (index * 100) + "%)");
  };

  lastPage = function() {
    return $(PAGES).size() - 1;
  };

}).call(this);
